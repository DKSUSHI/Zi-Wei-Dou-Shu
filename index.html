<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- 
      CSP Fix: Explicitly allow 'unsafe-eval' because:
      1. Tailwind CSS CDN needs it to generate styles on the fly.
      2. Babel Standalone needs it to compile TSX in the browser.
      We also allow specific CDNs for scripts and styles.
    -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: https://cdn.tailwindcss.com https://esm.sh https://fonts.googleapis.com https://fonts.gstatic.com;">
    
    <title>紫微斗數 - 命運羅盤</title>
    
    <!-- Tailwind CSS (Play CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Babel Standalone: Required to run .tsx files directly in the browser without a build step -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['"Noto Sans TC"', 'sans-serif'],
            },
            colors: {
              mystic: {
                950: '#0f0518',
                900: '#1a0b2e',
                800: '#2d1b4e',
                700: '#432c7a',
                600: '#5b3ea8',
                500: '#7652d6',
                400: '#9b7bf6',
                300: '#bca4ff',
                200: '#ddd1ff',
                100: '#eee8ff',
                50: '#fbf9ff',
              },
              gold: {
                300: '#fcd34d',
                400: '#fbbf24',
                500: '#f59e0b',
                600: '#d97706',
                700: '#b45309',
              }
            }
          }
        }
      }
    </script>
    
    <style>
      body {
        background-color: #1a0b2e;
        color: #eee8ff;
        font-family: "Noto Sans TC", sans-serif;
      }
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #2d1b4e;
      }
      ::-webkit-scrollbar-thumb {
        background: #5b3ea8;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #7652d6;
      }
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
    </style>

    <!-- Import Map: Directing dependencies to ESM-ready CDNs -->
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@19.0.0?dev",
    "react-dom/client": "https://esm.sh/react-dom@19.0.0/client?dev",
    "@google/genai": "https://esm.sh/@google/genai@0.1.1",
    "lucide-react": "https://esm.sh/lucide-react@0.460.0",
    "lunar-javascript": "https://esm.sh/lunar-javascript@1.6.13?bundle",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.1/",
    "react/": "https://aistudiocdn.com/react@^19.2.1/"
  }
}
</script>
  </head>
  <body>
    <div id="root"></div>
    
    <!-- 
      Main Entry Point 
      1. type="text/babel": Tells Babel to compile this.
      2. data-type="module": Tells Babel to treat imports as ES modules.
      3. src="./index.tsx": Using ./ is CRITICAL for GitHub Pages relative paths.
    -->
    <script type="text/babel" data-type="module" src="./index.tsx"></script>
  </body>
</html>